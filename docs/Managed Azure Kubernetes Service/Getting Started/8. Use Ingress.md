## Overview

This guide will help you deploy your ingress resources, either manually using kubectl or using ArgoCD.

### Deploy ingress using ArgoCD

5. **Use Ingress**:
    - Prerequisites:
        - Your own domain
        - AAA Record pointing to Ingress IP

        !!! note
            You can fetch your Ingress IP by running the following command in your terminal:

            ```yaml
            kubectl get svc ingress-nginx-controller -n ingress-nginx -o=jsonpath='{.status.loadBalancer.ingress[0].ip}'
            ```


    - Example Ingress setup manifest:
    ```yaml
    apiVersion: cert-manager.io/v1
    kind: Issuer
    metadata:
      name: argocd
      namespace: argocd
    spec:
      acme:
        server: https://acme-v02.api.letsencrypt.org/directory
        email: <your-email>
        privateKeySecretRef:
          name: argocd-tls
        solvers:
        - http01:
            ingress:
              class: nginx
    ---
    apiVersion: networking.k8s.io/v1
    kind: Ingress
    metadata:
      name: argocd-server
      namespace: argocd
      annotations:
        cert-manager.io/issuer: argocd
    spec:
      ingressClassName: nginx
      tls:
      - hosts:
        - "application.yourdomain.com"
        secretName: argocd-tls
      rules:
      - host: "application.yourdomain.com"
        http:
          paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: argocd-server
                port:
                  number: 80
    ```

6. **Use ArgoCD to deploy Ingress as an application**:
    - Push the required Issuer and Ingress resource manifests to your Github repository.
    - Create the ArgoCD application manifest file (e.g., `ingress.yaml`). Here is a template for your Argo CD application:

    ```yaml
    apiVersion: argoproj.io/v1alpha1
    kind: Application
    metadata:
      name: argocd-ingress
      namespace: argocd
    spec:
      project: default
      source:
        repoURL: https://github.com/your-github-username/your-repo-name.git # change this to your repostiroy url
        path: path/to/your/kubernetes/manifests # change this to the location of your ingress manifests
        targetRevision: HEAD
      destination:
        server: https://kubernetes.default.svc
        namespace: argocd
      syncPolicy:
        automated:
          prune: false
          selfHeal: true
        syncOptions:
          - CreateNamespace=true
    ```

    - Replace the placeholders with your project details.